(window.webpackJsonp=window.webpackJsonp||[]).push([[3],{26:function(e,t,n){"use strict";var a=n(27),r=n.n(a);t.a=({name:e,query:t,render:a,module:s})=>{const d={name:e,functional:!0,query:t,render:(e,t)=>a(r()(e),{route:t.parent.$route,router:t.parent.$router,hub:t.props.hub||t.data.hub||t.parent.$hub,...t})};if(s&&s.hot){const t=n(28),a=n(1);if(t.install(a),!t.compatible)throw new Error("vue-hot-reload-api is not compatible with the version of Vue you are using.");s.hot.accept(),s.hot.data?t.rerender(e,d):t.createRecord(e,d)}return d}},47:function(e,t,n){"use strict";(function(e){const n="ontouchstart"in e||e.DocumentTouch&&document instanceof e.DocumentTouch||navigator.msMaxTouchPoints||!1,a=()=>{};t.a={name:"putty",functional:!0,render:(e,{props:t,listeners:r,scopedSlots:s})=>{const d={start:r.start||a,move:r.move||a,end:r.end||a,tap:r.tap||a,leave:r.leave||a,hover:r.hover||a};let o=null,c=null,l=null;const i=e=>{const t=e.target.getBoundingClientRect(),n=[e.clientX-t.left,e.clientY-t.top];l=[n[0]-c[0],n[1]-c[1]],o||(d.start(c),o=!0),d.move({start:c,current:n,delta:l})},u=e=>{const t=e.target.getBoundingClientRect(),n=[e.clientX-t.left,e.clientY-t.top],a=[n[0]-c[0],n[1]-c[1]];window.removeEventListener("mousemove",i),window.removeEventListener("mouseup",u),o?d.end({start:c,end:n,delta:a}):d.tap(c),o=!1},p=e=>{const t=e.target.getBoundingClientRect(),n=[e.touches[0].clientX-t.left,e.touches[0].clientY-t.top],a=[n[0]-c[0],n[1]-c[1]];o||(d.start(c),o=!0),d.move({start:c,current:n,delta:a})},m=e=>{const t=e.target.getBoundingClientRect(),n=[e.changedTouches[0].clientX-t.left,e.changedTouches[0].clientY-t.top],a=[n[0]-c[0],n[1]-c[1]];window.removeEventListener("touchmove",p),window.removeEventListener("touchend",m),o?d.end({start:c,end:n,delta:a}):d.tap(c)},f=s.default?[s.default()]:[],v=t.className||"putty",h=t.tagName||"div";return e(h,n?{class:{[v]:!0},on:{touchstart:e=>{e.preventDefault(),o=!1;let t=e.target.getBoundingClientRect();c=[e.touches[0].clientX-t.left,e.touches[0].clientY-t.top],window.addEventListener("touchmove",p),window.addEventListener("touchend",m)}}}:{class:{[v]:!0},on:{mousedown:e=>{e.preventDefault();let t=e.target.getBoundingClientRect();c=[e.clientX-t.left,e.clientY-t.top],o=!1,window.addEventListener("mousemove",i),window.addEventListener("mouseup",u)},mousemove:e=>{if(o)return;const t=e.target.getBoundingClientRect(),n=[e.clientX-t.left,e.clientY-t.top];d.hover(n)},mouseleave:e=>{o||d.leave()}}},f)}}}).call(this,n(2))},56:function(e,t,n){"use strict";n.d(t,"a",(function(){return N}));n(81),n(48);var a=n(62),r=n(84),s=n(24),d=n(49),o=n(50),c=n(51),l=n(34),i=n(52),u=n(45),p=n(53),m=n(33),f=n(63),v=n(64),h=n(65),w=n(66),b=n(67),y=n(68),x=n(69),j=n(70),O=n(71),g=n(72),k=n(73),E=n(54),A=n(35),L=n(55),P=n(74),T=n(75),z=n(29),R=n(76),B=n(77),C=n(78),X=n(87),Y=n(79),D=n(80),M=n(88),$=n(89);const q=(e,t,n)=>(e=n(e=Object(a.a)(e,t)),e=Object(r.a)(e,t)),H=(s.a,d.a,o.a,c.a,m.a,f.a,v.a,h.a,O.a,g.a,(e,t,n,r)=>r(e=Object(a.a)(e,n),t=Object(a.a)(t,n)));z.a,R.a,B.a;const J=(e,t)=>e.end>t.start&&e.start<t.end,N=(e,t)=>J(e,t)?e.start>=t.start&&e.end<=t.end?[]:e.start<=t.start&&e.end>=t.end?e.start==t.start?[{start:t.end,end:e.end}]:e.end==t.end?[{start:t.start,end:e.start}]:[{start:e.start,end:t.start},{start:t.end,end:e.end}]:e.start<=t.start?[{start:e.start,end:t.start}]:t.end<=e.end?[{start:t.end,end:e.end}]:[]:[e]},61:function(e,t,n){"use strict";n.r(t),function(e){var a=n(26),r=n(47),s=n(86),d=n(83),o=n(56),c=n(57),l=n(85),i=n(82),u=n(37);const p=(e,t)=>Object(l.a)(Object(i.a)(e,t),"HH:mm",{timeZone:t,locale:c.a}),m=(e,t,n=(e=>e))=>{const a=e.slice();if("new"==t.type){let e=t.start,r=t.start+t.delta;e>r&&([e,r]=[r,e]);const s=n({start:e,end:r});return{dataset:a.map(e=>Object(o.a)(e,s)).flat(),selected:s,current:s}}const r=a[t.index];let{start:s,end:d}=r;"resize start"==t.type&&(s+=t.delta),"resize end"==t.type&&(d+=t.delta),"move"==t.type&&(s+=t.delta,d+=t.delta),s>d&&([s,d]=[d,s]);const c=n({start:s,end:d});return a.splice(t.index,1),{dataset:a.map(e=>Object(o.a)(e,c)).flat(),selected:r,current:c}},f={start:Object(s.a)(Object(u.a)("2020-04-05T00:00:00","Pacific/Auckland")),end:Object(s.a)(Object(u.a)("2020-04-06T00:00:00","Pacific/Auckland"))},v=e=>(e-f.start)/120,h=e=>120*e+f.start,w=e=>({ts1:v(e.start),ts2:v(e.end),...e}),b=e=>300*Math.round(e/300),y=({start:e,end:t})=>((e=b(e))==(t=b(t))&&(t+=300),{start:e,end:t});let x=[{start:Object(s.a)(Object(u.a)("2020-04-05T11:00:00","Pacific/Auckland")),end:Object(s.a)(Object(u.a)("2020-04-05T12:00:00","Pacific/Auckland"))},{start:Object(s.a)(Object(u.a)("2020-04-05T15:00:00","Pacific/Auckland")),end:Object(s.a)(Object(u.a)("2020-04-05T16:00:00","Pacific/Auckland"))},{start:Object(s.a)(Object(u.a)("2020-04-05T16:00:00","Pacific/Auckland")),end:Object(s.a)(Object(u.a)("2020-04-05T18:00:00","Pacific/Auckland"))}];t.default=Object(a.a)({name:"app",module:e,render:(e,{props:t,hub:n,state:a,route:s,router:o})=>{if(!t.operation){const a=x.map(w),s=null!=t.selectedindex?x[t.selectedindex]:null,o=(e=>Array.from(e.reduce((e,t,n)=>(e.has(t.start)?e.get(t.start).startindex=n:e.set(t.start,{startindex:n,endindex:null}),e.set(t.end,{startindex:null,endindex:n}),e),new Map).entries(),e=>({start:e[0],...e[1]})))(x).map(e=>({ts:v(e.start),...e})),c=e=>{for(const t of o)if(Math.abs(t.ts-e)<=4)return t;return null},l=e=>{for(let t=0;t<a.length;t++){const n=a[t];if(n.ts1<e&&n.ts2>e)return t}return null};let i=null;const u=e=>{"Escape"!==(e=e||window.event).key&&"Esc"!==e.key||(i=null,n.emit("update",{operation:i}),window.removeEventListener("keypress",u))};return e("#root",[e(".area",{style:{width:v(f.end)+"px"}},[e(r.a,{on:{start:e=>{const t=e[0],a=c(t);if(null!=a)return void(null!=a.endindex?(i={type:"resize end",index:a.endindex,delta:0},n.emit("update",{operation:i,selectedindex:null}),window.addEventListener("keypress",u)):null!=a.startindex&&(i={type:"resize start",index:a.startindex,delta:0},n.emit("update",{operation:i,selectedindex:null}),window.addEventListener("keypress",u)));const r=l(t);if(null!=r)return i={type:"move",index:r,delta:0},n.emit("update",{operation:i,selectedindex:null}),void window.addEventListener("keypress",u);i={type:"new",start:h(t),delta:0},n.emit("update",{operation:i,selectedindex:null}),window.addEventListener("keypress",u)},move:e=>{i&&(i.delta=120*e.delta[0],n.emit("update",{operation:i,selectedindex:null}))},end:e=>{if(!i)return;const t=m(x,i,y);x=t.dataset;let a=null;"resize start"!=i.type&&"resize end"!=i.type&&"move"!=i.type&&"new"!=i.type||(x.push(t.current),a=x.length-1),n.emit("update",{operation:null,selectedindex:a}),window.removeEventListener("keypress",u),document.body.style.cursor="auto"},tap:e=>{const t=l(e[0]);null!=t?n.emit("update",{selectedindex:t}):n.emit("update",{selectedindex:null})},hover:e=>{const t=e[0];null!=c(t)?document.body.style.cursor="col-resize":null!=l(t)?document.body.style.cursor="ew-resize":document.body.style.cursor="crosshair",n.emit("update",{hoverts:h(t)})},leave:()=>{document.body.style.cursor="auto",n.emit("update",{hoverts:null})}}}),...a.map((n,a)=>e(".box",{class:{selected:a==t.selectedindex},style:{left:n.ts1+"px",width:n.ts2-n.ts1+"px"}})),...s?[e(".start",{style:{left:v(s.start)+"px"}},p(Object(d.a)(s.start),"Pacific/Auckland")),e(".end",{style:{left:v(s.end)+"px"}},p(Object(d.a)(s.end),"Pacific/Auckland"))]:[t.hoverts&&e(".hover",{style:{left:v(t.hoverts)+"px"}},p(Object(d.a)(b(t.hoverts)),"Pacific/Auckland"))]])])}const c=m(x,t.operation,y),l=w(c.current);return e("#root",[e(".area",{style:{width:v(f.end)+"px"}},[e(r.a),...c.dataset.map(w).map((t,n)=>e(".box",{style:{left:t.ts1+"px",width:t.ts2-t.ts1+"px"}})),e(".box.selected",{style:{left:l.ts1+"px",width:l.ts2-l.ts1+"px"}}),e(".start",{style:{left:v(c.current.start)+"px"}},p(Object(d.a)(c.current.start),"Pacific/Auckland")),e(".end",{style:{left:v(c.current.end)+"px"}},p(Object(d.a)(c.current.end),"Pacific/Auckland"))])])}})}.call(this,n(25)(e))}}]);